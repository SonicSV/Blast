window.__require=function t(e,i,o){function n(c,s){if(!i[c]){if(!e[c]){var d=c.split("/");if(d=d[d.length-1],!e[d]){var a="function"==typeof __require&&__require;if(!s&&a)return a(d,!0);if(r)return r(d,!0);throw new Error("Cannot find module '"+c+"'")}c=d}var h=i[c]={exports:{}};e[c][0].call(h.exports,function(t){return n(e[c][1][t]||t)},h,h.exports,t,e,i,o)}return i[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<o.length;c++)n(o[c]);return n}({Check_move:[function(t,e){"use strict";cc._RF.push(e,"42ec4FwezlOO7tKCiBYxgTi","Check_move");var i=t("Global");cc.Class({extends:cc.Component,properties:{coordPlus:40,coordMinus:-40,coordCenter:0,stirringNode:[],availabilityMove:!1,stirringCount:0},start:function(){this.schedule(function(){this.stirringNode=[],this.availabilityMove=!1,cc.director.getPhysicsManager().testPoint({x:100,y:70})&&(this.checkMove(this.coordPlus,this.coordCenter,cc.director.getPhysicsManager().testPoint({x:100,y:70}).node),this.checkMove(this.coordCenter,this.coordPlus,cc.director.getPhysicsManager().testPoint({x:100,y:70}).node),this.scheduleOnce(function(){!1===this.availabilityMove&&i.stirring_Count<=2&&this.stirringField()},1))},3)},checkMove:function(t,e,i){0===this.stirringNode.length&&this.stirringNode.push(i);var o=i.getPosition();o.x+=cc.winSize.width/2,o.y+=cc.winSize.height/2;var n=i.getPosition();n.x+=cc.winSize.width/2+t,n.y+=cc.winSize.height/2+e;var r=cc.director.getPhysicsManager().rayCast(o,n,cc.RayCastType.Any),c=!1,s=!1;if(void 0!==r[0]&&r[0].collider.node.name!==i.name){for(var d=0;d<this.stirringNode.length;d++)Math.round(this.stirringNode[d].x)===Math.round(i.x)&&Math.round(this.stirringNode[d].y)===Math.round(i.y)&&(c=!0),d===this.stirringNode.length-1&&!1===c&&this.stirringNode.push(i),void 0!==r[0]&&Math.round(this.stirringNode[d].x)===Math.round(r[0].collider.node.x)&&Math.round(this.stirringNode[d].y)===Math.round(r[0].collider.node.y)&&(s=!0);void 0!==r[0]&&!1===s&&i.name.slice(0,5)===r[0].collider.node.name.slice(0,5)&&!0!==this.availabilityMove&&(this.checkMove(this.coordPlus,this.coordCenter,r[0].collider.node),this.checkMove(this.coordCenter,this.coordPlus,r[0].collider.node))}else if(void 0!==r[0]&&r[0].collider.node.name===i.name)this.availabilityMove=!0;else if(void 0===r[0])for(var a=0;a<this.stirringNode.length;a++)Math.round(this.stirringNode[a].x)===Math.round(i.x)&&Math.round(this.stirringNode[a].y)===Math.round(i.y)&&(c=!0),a===this.stirringNode.length-1&&!1===c&&this.stirringNode.push(i)},stirringField:function(){for(var t=this.stirringNode.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),i=[this.stirringNode[e].x,this.stirringNode[t].x];this.stirringNode[t].x=i[0],this.stirringNode[e].x=i[1];var o=[this.stirringNode[e].y,this.stirringNode[t].y];this.stirringNode[t].y=o[0],this.stirringNode[e].y=o[1]}this.stirringCount++}}),cc._RF.pop()},{Global:"Global"}],End_game:[function(t,e){"use strict";cc._RF.push(e,"26299Si52FC35X5gf8hquN+","End_game");var i=t("Global");cc.Class({extends:cc.Component,properties:{labelEventType:cc.Label,labelEventResult:cc.Label,labelScore:cc.Label,nodeEndGame:cc.Node,endGameEvent:!1},start:function(){this.schedule(function(){0===i.remaining_Moves&&this.endGame("\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435","\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c \u043e\u0447\u043a\u0438 \u0445\u043e\u0434\u043e\u0432"),i.progress_Bar>=100&&this.endGame("\u041f\u043e\u0431\u0435\u0434\u0430!","\u0412\u0437\u043e\u0440\u0432\u0430\u043d\u043e "+i.progress_Bar+" \u0438\u0437 100 \u043a\u0430\u043c\u043d\u0435\u0439"),i.stirring_Count>2&&this.endGame("\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435","\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u0445\u043e\u0434\u044b")},.2)},endGame:function(t,e){!1===this.endGameEvent&&(this.endGameEvent=!0,this.nodeEndGame.active=!0,this.nodeEndGame.opacity=0,this.nodeEndGame.scale=.2,cc.tween(this.nodeEndGame).to(1,{scale:1,opacity:255},{easing:"quartInOut"}).start(),this.labelEventType.string=t,this.labelEventResult.string=e,this.labelScore.string="\u041d\u0430\u0431\u0440\u0430\u043d\u043e \u043e\u0447\u043a\u043e\u0432: "+i.total_Score)}}),cc._RF.pop()},{Global:"Global"}],Event_touch:[function(t,e){"use strict";cc._RF.push(e,"3ef10a0LV5NMLgEdbMHWDuH","Event_touch");var i=t("Global");cc.Class({extends:cc.Component,properties:{coordPlus:40,coordMinus:-40,coordCenter:0,nodeArr:[],click:0},start:function(){this.node.on("touchstart",function(){i.remaining_Moves>0&&0===this.click&&(this.click++,"Title_rocket"===this.node.name?this.rocketTitle(this.node):(this.findTitle(this.coordPlus,this.coordCenter,this.node),this.findTitle(this.coordMinus,this.coordCenter,this.node),this.findTitle(this.coordCenter,this.coordPlus,this.node),this.findTitle(this.coordCenter,this.coordMinus,this.node)),this.destroyTitle(),this.scheduleOnce(function(){this.click=0},1))},this)},findTitle:function(t,e,i){0===this.nodeArr.length&&this.nodeArr.push(i);var o=i.getPosition();o.x+=cc.winSize.width/2,o.y+=cc.winSize.height/2;var n=i.getPosition();n.x+=cc.winSize.width/2+t,n.y+=cc.winSize.height/2+e;for(var r=cc.director.getPhysicsManager().rayCast(o,n,cc.RayCastType.Any),c=!1,s=!1,d=0;d<this.nodeArr.length;d++)Math.round(this.nodeArr[d].x)===Math.round(i.x)&&Math.round(this.nodeArr[d].y)===Math.round(i.y)&&(c=!0),d===this.nodeArr.length-1&&!1===c&&this.nodeArr.push(i),void 0!==r[0]&&Math.round(this.nodeArr[d].x)===Math.round(r[0].collider.node.x)&&Math.round(this.nodeArr[d].y)===Math.round(r[0].collider.node.y)&&(s=!0);void 0!==r[0]&&r[0].collider.node.name===i.name&&!1===s&&(t>0?(this.findTitle(this.coordPlus,this.coordCenter,r[0].collider.node),this.findTitle(this.coordCenter,this.coordPlus,r[0].collider.node),this.findTitle(this.coordCenter,this.coordMinus,r[0].collider.node)):t<0?(this.findTitle(this.coordMinus,this.coordCenter,r[0].collider.node),this.findTitle(this.coordCenter,this.coordPlus,r[0].collider.node),this.findTitle(this.coordCenter,this.coordMinus,r[0].collider.node)):e>0?(this.findTitle(this.coordPlus,this.coordCenter,r[0].collider.node),this.findTitle(this.coordMinus,this.coordCenter,r[0].collider.node),this.findTitle(this.coordCenter,this.coordPlus,r[0].collider.node)):e<0&&(this.findTitle(this.coordPlus,this.coordCenter,r[0].collider.node),this.findTitle(this.coordMinus,this.coordCenter,r[0].collider.node),this.findTitle(this.coordCenter,this.coordMinus,r[0].collider.node)))},rocketTitle:function(t){var e=t.getPosition();e.x+=cc.winSize.width/2,e.y=449;var i=t.getPosition();i.x+=cc.winSize.width/2,i.y=75;for(var o=cc.director.getPhysicsManager().rayCast(e,i,cc.RayCastType.All),n=0;n<o.length;n++)this.nodeArr.push(o[n].collider.node)},destroyTitle:function(){if(this.nodeArr.length>1){for(var t=0;t<this.nodeArr.length;t++)this.nodeArr[t].getComponent(cc.Animation).play();i.remaining_Moves-=1,i.total_Score+=this.nodeArr.length*this.nodeArr.length,i.progress_Bar+=this.nodeArr.length,"Title_rocket"!==this.node.name&&this.nodeArr.length>=5&&(i.rocket_Coord.x=this.node.getPosition().x+cc.winSize.width/2,i.rocket_Coord.y=this.node.getPosition().y+cc.winSize.height/2,i.rocket_Event=!0)}},remove_Title:function(){this.node.destroy()}}),cc._RF.pop()},{Global:"Global"}],Global:[function(t,e){"use strict";cc._RF.push(e,"6a87dc+53REGJqeE/C3usyz","Global"),e.exports={remaining_Moves:null,total_Score:null,progress_Bar:null,rocket_Coord:null,rocket_Event:null,stirring_Count:null},cc._RF.pop()},{}],Options_menu:[function(t,e){"use strict";cc._RF.push(e,"3ed08+RXyJI+JnAqfdAPuNM","Options_menu"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},showWindow:function(){this.node.active=!0,this.node.opacity=0,this.node.scale=.2,cc.tween(this.node).to(1,{scale:1,opacity:255},{easing:"quartInOut"}).start()},hideWindow:function(){var t=this;cc.tween(this.node).to(1,{scale:.2,opacity:0},{easing:"quartInOut"}).call(function(){t.node.active=!1}).start()},Load_Scene_Game:function(){this.node.active=!0,this.node.opacity=0,this.node.scale=.2,cc.tween(this.node).to(.5,{scale:1,opacity:255},{easing:"quartInOut"}).start(),this.scheduleOnce(function(){cc.tween(this.node).call(function(){cc.director.loadScene("Scene_Game")}).start()},1)},Load_Scene_Menu:function(){this.node.active=!0,this.node.opacity=0,this.node.scale=.2,cc.tween(this.node).to(.5,{scale:1,opacity:255},{easing:"quartInOut"}).start(),this.scheduleOnce(function(){cc.tween(this.node).call(function(){cc.director.loadScene("Scene_Menu")}).start()},1)}}),cc._RF.pop()},{}],Scene_load:[function(t,e){"use strict";cc._RF.push(e,"d6ccc/m+QtCjI1agnh5Dsk1","Scene_load"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;cc.tween(this.node).to(.5,{scale:.2,opacity:0},{easing:"quartInOut"}).call(function(){t.node.active=!1}).start()}}),cc._RF.pop()},{}],Scores_and_Movies:[function(t,e){"use strict";cc._RF.push(e,"0e93dYyU+JHxZTtLu/DiXjp","Scores_and_Movies");var i=t("Global");cc.Class({extends:cc.Component,properties:{moves:cc.Label,score:cc.Label,bar:cc.Node},update:function(){this.moves.string=i.remaining_Moves,this.score.string=i.total_Score,this.bar.getComponent(cc.ProgressBar).progress=i.progress_Bar/100}}),cc._RF.pop()},{Global:"Global"}],Settings:[function(t,e){"use strict";cc._RF.push(e,"350adKF989GF4BN+RAe/jAH","Settings");var i=t("Global");cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,i.remaining_Moves=20,i.total_Score=0,i.progress_Bar=0,i.stirring_Count=0,i.rocket_Coord={},i.rocket_Event=!1}}),cc._RF.pop()},{Global:"Global"}],Title_rocket:[function(t,e){"use strict";cc._RF.push(e,"7430cRoMTBJdbmGKVLHdwnz","Title_rocket");var i=t("Global");cc.Class({extends:cc.Component,properties:{Title_Rocket_Prefab:cc.Prefab},start:function(){this.schedule(function(){!0===i.rocket_Event&&(i.rocket_Event=!1,this.spawnTitleRocket())},.1)},spawnTitleRocket:function(){var t=cc.instantiate(this.Title_Rocket_Prefab);t.parent=cc.director.getPhysicsManager().testPoint(i.rocket_Coord).node.parent,cc.director.getPhysicsManager().testPoint(i.rocket_Coord).node.destroy(),i.rocket_Coord.x+=-480,i.rocket_Coord.y+=-270,t.setPosition(i.rocket_Coord)}}),cc._RF.pop()},{Global:"Global"}],Title_spawn:[function(t,e){"use strict";cc._RF.push(e,"813d8KzgQlBlaB+uVlHFlvu","Title_spawn"),cc.Class({extends:cc.Component,properties:{Title_blue_Prefab:cc.Prefab,Title_gold_Prefab:cc.Prefab,Title_green_Prefab:cc.Prefab,Title_purple_Prefab:cc.Prefab,Title_red_Prefab:cc.Prefab},onLoad:function(){},start:function(){this.schedule(function(){this.spawn()},.1)},spawn:function(){var t=[this.Title_blue_Prefab,this.Title_gold_Prefab,this.Title_green_Prefab,this.Title_purple_Prefab,this.Title_red_Prefab],e=this.node.getPosition();e.x+=cc.winSize.width/2,e.y+=cc.winSize.height/2+19;var i=this.node.getPosition();i.x+=cc.winSize.width/2,i.y+=cc.winSize.height/2-25;var o,n=cc.instantiate(t[(0,o=t.length,Math.floor(Math.random()*(o-0)))]);0===cc.director.getPhysicsManager().rayCast(e,i,cc.RayCastType.Any).length&&(n.parent=this.node.parent,n.setPosition(this.node.getPosition()))},update:function(){}}),cc._RF.pop()},{}]},{},["Check_move","End_game","Event_touch","Global","Options_menu","Scene_load","Scores_and_Movies","Settings","Title_rocket","Title_spawn"]);